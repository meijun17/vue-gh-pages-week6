(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5515d5b5"],{"1dde":function(t,e,n){var c=n("d039"),i=n("b622"),a=n("2d00"),o=i("species");t.exports=function(t){return a>=51||!c((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"6be2":function(t,e,n){"use strict";var c=function(t){return{all:t=t||new Map,on:function(e,n){var c=t.get(e);c?c.push(n):t.set(e,[n])},off:function(e,n){var c=t.get(e);c&&(n?c.splice(c.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var c=t.get(e);c&&c.slice().map((function(t){t(n)})),(c=t.get("*"))&&c.slice().map((function(t){t(e,n)}))}}},i=c();e["a"]=i},8418:function(t,e,n){"use strict";var c=n("a04b"),i=n("9bf2"),a=n("5c6c");t.exports=function(t,e,n){var o=c(e);o in t?i.f(t,o,a(0,n)):t[o]=n}},"99af":function(t,e,n){"use strict";var c=n("23e7"),i=n("da84"),a=n("d039"),o=n("e8b5"),r=n("861d"),d=n("7b0b"),u=n("07fa"),s=n("8418"),l=n("65f0"),b=n("1dde"),h=n("b622"),f=n("2d00"),g=h("isConcatSpreadable"),j=9007199254740991,p="Maximum allowed index exceeded",O=i.TypeError,v=f>=51||!a((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),m=b("concat"),y=function(t){if(!r(t))return!1;var e=t[g];return void 0!==e?!!e:o(t)},k=!v||!m;c({target:"Array",proto:!0,forced:k},{concat:function(t){var e,n,c,i,a,o=d(this),r=l(o,0),b=0;for(e=-1,c=arguments.length;e<c;e++)if(a=-1===e?o:arguments[e],y(a)){if(i=u(a),b+i>j)throw O(p);for(n=0;n<i;n++,b++)n in a&&s(r,b,a[n])}else{if(b>=j)throw O(p);s(r,b++,a)}return r.length=b,r}})},fd15:function(t,e,n){"use strict";n.r(e);var c=n("7a23"),i=Object(c["h"])("h2",null,"產品列表",-1),a={class:"container"},o={class:"table align-middle"},r=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",null,"圖片"),Object(c["h"])("th",null,"商品名稱"),Object(c["h"])("th",null,"價格"),Object(c["h"])("th")])],-1),d={style:{width:"200px"}},u={key:0,class:"h5"},s={key:1},l={class:"h6"},b={class:"h5"},h={class:"btn-group btn-group-sm"},f=["disabled"],g=Object(c["i"])(" 查看更多 "),j=["onClick","disabled"],p={class:"fas fa-spinner fa-pulse"},O=Object(c["i"])(" 加到購物車 ");function v(t,e,n,v,m,y){var k=Object(c["G"])("Loading"),x=Object(c["G"])("router-link");return Object(c["y"])(),Object(c["g"])("div",null,[i,Object(c["j"])(k,{active:m.isLoading},null,8,["active"]),Object(c["h"])("div",a,[Object(c["h"])("table",o,[r,Object(c["h"])("tbody",null,[(Object(c["y"])(!0),Object(c["g"])(c["a"],null,Object(c["E"])(m.products,(function(t){return Object(c["y"])(),Object(c["g"])("tr",{key:t.id},[Object(c["h"])("td",d,[Object(c["h"])("div",{style:Object(c["s"])([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.imageUrl,")")}])},null,4)]),Object(c["h"])("td",null,Object(c["J"])(t.title),1),Object(c["h"])("td",null,[t.price===t.origin_price?(Object(c["y"])(),Object(c["g"])("div",u,Object(c["J"])(t.price)+" 元 ",1)):(Object(c["y"])(),Object(c["g"])("div",s,[Object(c["h"])("del",l,"原價 "+Object(c["J"])(t.origin_price)+" 元",1),Object(c["h"])("div",b,"現在只要 "+Object(c["J"])(t.price)+" 元",1)]))]),Object(c["h"])("td",null,[Object(c["h"])("div",h,[Object(c["h"])("button",{type:"button",class:"btn btn-outline-secondary",disabled:m.loadingStatus.loadingItem===t.id||!t.is_enabled},[Object(c["j"])(x,{class:"nav-link",to:"/product/".concat(t.id)},{default:Object(c["R"])((function(){return[g]})),_:2},1032,["to"])],8,f),Object(c["h"])("button",{type:"button",class:"btn btn-outline-danger",onClick:function(e){return y.addToCart(t.id)},disabled:m.loadingStatus.loadingItem===t.id||!t.is_enabled},[Object(c["S"])(Object(c["h"])("i",p,null,512),[[c["N"],m.loadingStatus.loadingItem===t.id]]),O],8,j)])])])})),128))])])])])}n("99af");var m=n("6be2"),y={data:function(){return{cartData:{},products:[],loadingStatus:{loadingItem:""},isLoading:!1}},methods:{getProducts:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("shila-hexschool","/products/all")).then((function(e){t.products=e.data.products})).catch((function(t){alert(t.data.message)}))},addToCart:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var c={product_id:t,qty:n};this.loadingStatus.loadingItem=t,this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("shila-hexschool","/cart"),{data:c}).then((function(t){e.loadingStatus.loadingItem="",m["a"].emit("get-cart"),e.isLoading=!1})).catch((function(t){alert(t.data.message)}))}},mounted:function(){this.getProducts()}},k=n("6b0d"),x=n.n(k);const w=x()(y,[["render",v]]);e["default"]=w}}]);
//# sourceMappingURL=chunk-5515d5b5.511c0d5f.js.map